{"version":3,"file":"static/js/184.6d19f823.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesInfo/MoviesInfo.module.css?dc86","webpack://goit-react-hw-05-movies/./src/components/Search/Search.module.css?06df","components/Search/Search.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieItem/MovieItem.module.css?431a","components/MovieItem/MovieItem.jsx","components/MoviesInfo/MoviesInfo.jsx","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"mWrapper\":\"MoviesInfo_mWrapper__e9Zid\"};","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Search_Searchbar__JhT+k\",\"SearchForm\":\"Search_SearchForm__E1jYk\",\"SearchForm_button\":\"Search_SearchForm_button__sKGyb\",\"SearchForm_button-label\":\"Search_SearchForm_button-label__x73mm\",\"SearchForm_input\":\"Search_SearchForm_input__Eajgl\"};","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport s from './Search.module.css';\nimport { FaSearch } from 'react-icons/fa';\n\nexport const Search = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  const handleChange = e => {\n    // console.log('e.target', e.target);\n    setSearch(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (search.trim() !== '') {\n      onSubmit(search);\n      setSearch('');\n    } else {\n      alert('Enter query');\n    }\n  };\n\n  return (\n    <form className={s.SearchForm} onSubmit={handleSubmit}>\n      <button type=\"submit\" className={s.SearchForm_button}>\n        <FaSearch />\n      </button>\n\n      <input\n        className={s.SearchForm_input}\n        value={search}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        onChange={handleChange}\n        \n\n      />\n    </form>\n  );\n};\n\nSearch.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MovieItem_item__iPuYx\",\"title\":\"MovieItem_title__JQYXo\"};","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from './MovieItem.module.css';\n// import { routes } from 'routes';\nimport { useLocation } from 'react-router-dom';\n\nexport const MovieItem = ({ item }) => {\n  const location = useLocation();\n  // console.log('location', location);\n\n  return (\n    <li className={s.item}>\n      <Link\n        // to={routes.moviedetails.replace(':movieId', item.id)}\n        to={`/movies/${item.id}`}\n        state={{ from: location }}\n      >\n        <span className={s.title}>{item.title ?? item.original_title}</span>\n      </Link>\n    </li>\n  );\n};\n\nMovieItem.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n  }),\n};\n","import PropTypes from 'prop-types';\nimport s from './MoviesInfo.module.css';\nimport { Search } from 'components/Search';\nimport { MovieItem } from 'components/MovieItem';\nimport { Loader } from 'components/Loader';\nimport local from 'local.json';\n\nexport const MoviesInfo = ({\n  isSearch,\n  isHome,\n  handleSubmit,\n  isLoading,\n  movies,\n  error,\n  notFound,\n  lang,\n}) => {\n  return (\n    <div className={s.mWrapper}>\n      {isSearch && <Search onSubmit={handleSubmit} />}\n      {isHome && <h2>{local.trending[lang]}</h2>}\n\n      {isLoading ? (\n        <Loader />\n      ) : error ? (\n        <p>Something went wrong, try again</p>\n      ) : notFound ? (\n        <p>{notFound}</p>\n      ) : (\n        <ul className={s.list}>\n          {movies.map(item => (\n            <MovieItem key={item.id} item={item} />\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nMoviesInfo.propTypes = {\n  isSearch: PropTypes.bool,\n  handleSubmit: PropTypes.func,\n  isLoading: PropTypes.bool.isRequired,\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\n","import { useState, useEffect } from 'react';\nimport { getMoviesSearchReq } from 'services/api';\nimport { MoviesInfo } from 'components/MoviesInfo';\nimport { useSearchParams } from 'react-router-dom';\nimport { useLang } from 'hooks/useInterface';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [notFound, setNotFound] = useState(null);\n  // const [search, setSearch] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const { language } = useLang();\n\n  // console.log('searchParams', searchParams);\n  // console.log('useParams', useParams());\n\n  useEffect(() => {\n    const getMovies = async () => {\n      setIsLoading(true);\n      setNotFound(null);\n      setError(null);\n      try {\n        const data = await getMoviesSearchReq(query, language);\n        // console.log('movies page data', data);\n        if (!data.length) {\n          setNotFound(`No movies found for ${query}`);\n        } else setMovies(data);\n      } catch (error) {\n        setError({ error });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (query) {\n      getMovies();\n    }\n  }, [query, language]);\n\n  const handleSubmit = query => {\n    setSearchParams({ query });\n  };\n\n  return (\n    <MoviesInfo\n      isSearch={true}\n      handleSubmit={handleSubmit}\n      movies={movies}\n      isLoading={isLoading}\n      error={error}\n      notFound={notFound}\n    />\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst key = 'c4360f2fc66490777a6befee451fce21';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  // params: {\n  //   language: 'uk',\n  // },\n});\n\nexport const getMoviesReq = async language => {\n  const { data } = await instance.get(`/trending/movie/day?api_key=${key}`, {\n    params: {\n      language,\n    },\n  });\n  // console.log('data', data);\n  return data.results;\n};\n\nexport const getMovieByIdReq = async (id, language) => {\n  const { data } = await instance.get(`/movie/${id}?api_key=${key}`, {\n    params: {\n      language,\n    },\n  });\n  // console.log('data mivie by id', data);\n  return data;\n};\n\nexport const getMoviesSearchReq = async (query, language) => {\n  const { data } = await instance.get(`/search/movie?api_key=${key}`, {\n    params: { query, language },\n  });\n  // console.log('data', data);\n  return data.results;\n};\n\nexport const getMovieCastReq = async (id, language) => {\n  const { data } = await instance.get(`/movie/${id}/credits?api_key=${key}`, {\n    params: {\n      language,\n    },\n  });\n  // console.log('data', data);\n  return data.cast;\n};\n\nexport const getMovieReviewsReq = async (id, language) => {\n  const { data } = await instance.get(`/movie/${id}/reviews?api_key=${key}`, {\n    params: { language },\n  });\n  // console.log('data', data);\n  return data.results;\n};\n\ngetMovieReviewsReq.propTypes = {\n  id: PropTypes.func.isRequired,\n};\n"],"names":["Search","onSubmit","useState","search","setSearch","className","s","e","preventDefault","trim","alert","type","value","autoComplete","autoFocus","placeholder","onChange","target","MovieItem","item","location","useLocation","to","id","state","from","title","original_title","MoviesInfo","isSearch","isHome","handleSubmit","isLoading","movies","error","notFound","lang","local","Loader","map","setMovies","setIsLoading","setError","setNotFound","useSearchParams","searchParams","setSearchParams","query","get","language","useLang","useEffect","getMovies","getMoviesSearchReq","data","length","key","instance","axios","baseURL","getMoviesReq","params","results","getMovieByIdReq","getMovieCastReq","cast","getMovieReviewsReq","propTypes","PropTypes"],"sourceRoot":""}