{"version":3,"file":"static/js/184.7c7394d8.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesInfo/MoviesInfo.module.css?dc86","webpack://goit-react-hw-05-movies/./src/components/Search/Search.module.css?06df","components/Search/Search.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieItem/MovieItem.module.css?431a","components/MovieItem/MovieItem.jsx","components/MoviesInfo/MoviesInfo.jsx","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"mWrapper\":\"MoviesInfo_mWrapper__e9Zid\"};","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Search_Searchbar__JhT+k\",\"SearchForm\":\"Search_SearchForm__E1jYk\",\"SearchForm_button\":\"Search_SearchForm_button__sKGyb\",\"SearchForm_button-label\":\"Search_SearchForm_button-label__x73mm\",\"SearchForm_input\":\"Search_SearchForm_input__Eajgl\"};","import PropTypes from 'prop-types';\nimport { useState } from 'react';\nimport s from './Search.module.css';\nimport { FaSearch } from 'react-icons/fa';\n\nexport const Search = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  const handleChange = e => {\n    // console.log('e.target', e.target);\n    setSearch(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (search.trim() !== '') {\n      onSubmit(search);\n      setSearch('');\n    } else {\n      alert('Enter query');\n    }\n  };\n\n  return (\n    <form className={s.SearchForm} onSubmit={handleSubmit}>\n      <button type=\"submit\" className={s.SearchForm_button}>\n        <FaSearch />\n      </button>\n\n      <input\n        className={s.SearchForm_input}\n        value={search}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        onChange={handleChange}\n        \n\n      />\n    </form>\n  );\n};\n\nSearch.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MovieItem_item__iPuYx\",\"title\":\"MovieItem_title__JQYXo\"};","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from './MovieItem.module.css';\n// import { routes } from 'routes';\nimport { useLocation } from 'react-router-dom';\n\nexport const MovieItem = ({ item }) => {\n  const location = useLocation();\n\n  return (\n    <li className={s.item}>\n      <Link\n        // to={routes.moviedetails.replace(':movieId', item.id)}\n        to={`${item.id}`}\n        state={{ from: location }}\n      >\n        <span className={s.title}>{item.title ?? item.original_title}</span>\n      </Link>\n    </li>\n  );\n};\n\nMovieItem.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n  }),\n};\n","import PropTypes from 'prop-types';\nimport s from './MoviesInfo.module.css';\nimport { Search } from 'components/Search';\nimport { MovieItem } from 'components/MovieItem';\nimport { Loader } from 'components/Loader';\n\nexport const MoviesInfo = ({\n  isSearch,\n  isHome,\n  handleSubmit,\n  isLoading,\n  movies,\n  error,\n  notFound,\n}) => {\n  return (\n    <div className={s.mWrapper}>\n      {isSearch && <Search onSubmit={handleSubmit} />}\n      {isHome && <h2>Trending today</h2>}\n\n      {isLoading ? (\n        <Loader />\n      ) : error ? (\n        <p>Something went wrong, try again</p>\n      ) : notFound ? (\n        <p>{notFound}</p>\n      ) : (\n        <ul className={s.list}>\n          {movies.map(item => (\n            <MovieItem key={item.id} item={item} />\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nMoviesInfo.propTypes = {\n  isSearch: PropTypes.bool,\n  handleSubmit: PropTypes.func,\n  isLoading: PropTypes.bool.isRequired,\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\n","import { useState, useEffect } from 'react';\nimport { getMoviesSearchReq } from 'services/api';\nimport { MoviesInfo } from 'components/MoviesInfo';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [notFound, setNotFound] = useState(null);\n  // const [search, setSearch] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  // console.log('searchParams', searchParams);\n  // console.log('useParams', useParams());\n\n  useEffect(() => {\n    const getMovies = async () => {\n      setIsLoading(true);\n      setNotFound(null);\n      setError(null);\n      try {\n        const data = await getMoviesSearchReq(query);\n        // console.log('movies page data', data);\n        if (!data.length) {\n          setNotFound(`No movies found for ${query}`);\n        } else setMovies(data);\n      } catch (error) {\n        setError({ error });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    if (query) {\n      getMovies();\n    }\n  }, [query]);\n\n  const handleSubmit = query => {\n    setSearchParams({ query });\n  };\n\n  return (\n    <MoviesInfo\n      isSearch={true}\n      handleSubmit={handleSubmit}\n      movies={movies}\n      isLoading={isLoading}\n      error={error}\n      notFound={notFound}\n    />\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nimport PropTypes from 'prop-types'\n\nconst key = 'c4360f2fc66490777a6befee451fce21';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getMoviesReq = async () => {\n  const { data } = await instance.get(`/trending/movie/day?api_key=${key}`);\n  // console.log('data', data);\n  return data.results;\n};\n\nexport const getMovieByIdReq = async id => {\n  const { data } = await instance.get(`/movie/${id}?api_key=${key}`);\n  // console.log('data mivie by id', data);\n  return data;\n};\n\nexport const getMoviesSearchReq = async query => {\n  const { data } = await instance.get(`/search/movie?api_key=${key}`, {\n    params: { query },\n  });\n  // console.log('data', data);\n  return data.results;\n};\n\nexport const getMovieCastReq = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits?api_key=${key}`);\n  // console.log('data', data);\n  return data.cast;\n};\n\nexport const getMovieReviewsReq = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews?api_key=${key}`);\n  // console.log('data', data);\n  return data.results;\n};\n\ngetMovieReviewsReq.propTypes={\n  id: PropTypes.func.isRequired\n}\n"],"names":["Search","onSubmit","useState","search","setSearch","className","s","e","preventDefault","trim","alert","type","value","autoComplete","autoFocus","placeholder","onChange","target","MovieItem","item","location","useLocation","to","id","state","from","title","original_title","MoviesInfo","isSearch","isHome","handleSubmit","isLoading","movies","error","notFound","Loader","map","setMovies","setIsLoading","setError","setNotFound","useSearchParams","searchParams","setSearchParams","query","get","useEffect","getMovies","getMoviesSearchReq","data","length","key","instance","axios","baseURL","getMoviesReq","results","getMovieByIdReq","params","getMovieCastReq","cast","getMovieReviewsReq","propTypes","PropTypes"],"sourceRoot":""}