{"version":3,"file":"static/js/506.e7a01d15.chunk.js","mappings":"8NACA,GAAgB,KAAO,2BAA2B,MAAQ,4BAA4B,UAAY,gCAAgC,MAAQ,4BAA4B,KAAO,2BAA2B,GAAK,0B,8ECmG7M,EAxFqB,WAAO,IAAD,QACzB,GAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAGMC,GAAWC,EAAAA,EAAAA,MAITC,GAAYC,EAAAA,EAAAA,MAAZD,SAGRE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,2FACnBR,GAAa,GADM,mBAIES,EAAAA,EAAAA,IAAgBJ,GAJlB,OAIXK,EAJW,OAKjBZ,EAASY,GALQ,gDAOjBR,EAAS,CAAED,MAAK,OAPC,yBASjBD,GAAa,GATI,4EAAH,qDAYlBQ,MACC,CAACH,IAEJ,IAAQM,EACNd,EADMc,MAAOC,EACbf,EADae,YAAaC,EAC1BhB,EAD0BgB,aAAcC,EACxCjB,EADwCiB,SAAUC,EAClDlB,EADkDkB,aAAcC,EAChEnB,EADgEmB,OAGlE,OACE,8BACGjB,GACC,SAACkB,EAAA,EAAD,IACEhB,GACF,iCACE,4DACA,SAAC,KAAD,CAAMiB,GAAIC,EAAAA,EAAAA,KAAaC,UAAWC,EAAAA,GAAlC,UACE,iBAAMC,MAAO,CAAEC,MAAO,QAAtB,kCAIJ,iBAAKH,UAAWC,EAAAA,KAAhB,WACE,UAAC,KAAD,CAAMH,GAAE,iBAAEf,QAAF,IAAEA,GAAF,UAAEA,EAAUqB,aAAZ,aAAE,EAAiBC,YAAnB,QAA2BN,EAAAA,EAAAA,KAAaC,UAAWC,EAAAA,GAA3D,WACE,SAAC,MAAD,IADF,cAIA,gBACEK,IAAG,0CAAqCd,GACxCe,MAAM,MACNC,IAAKjB,KAEP,eAAIS,UAAWC,EAAAA,UAAf,SAA6BV,KAC7B,8BAAII,QAAJ,IAAIA,OAAJ,EAAIA,EAAcc,MAAM,EAAG,MAC3B,wCAA2C,GAA3BC,KAAKC,MAAMlB,GAA3B,QACA,8BACGG,QADH,IACGA,OADH,EACGA,EAAQgB,KAAI,SAAAC,GAAI,aACf,sCAAqBA,EAAKC,YAA1B,aAAqB,EAAWC,cAAhC,MAAWF,EAAKG,UAGpB,cAAGhB,UAAWC,EAAAA,KAAd,SAAuBP,KACvB,iBAAKM,UAAWC,EAAAA,MAAhB,WACE,SAAC,KAAD,CACEH,GAAIC,EAAAA,EAAAA,KACJK,MAAO,CAAEC,KAAI,UAAEtB,EAASqB,aAAX,aAAE,EAAgBC,MAC/BL,UAAWC,EAAAA,KAHb,UAKE,iBAAMD,UAAWC,EAAAA,MAAjB,qBAEF,SAAC,KAAD,CACEH,GAAIC,EAAAA,EAAAA,QACJK,MAAO,CAAEC,KAAI,UAAEtB,EAASqB,aAAX,aAAE,EAAgBC,MAC/BL,UAAWC,EAAAA,KAHb,UAKE,iBAAMD,UAAWC,EAAAA,MAAjB,2BAGJ,SAAC,EAAAgB,SAAD,CAAUC,UAAU,SAACrB,EAAA,EAAD,IAApB,UACE,SAAC,KAAD,a,6NCzFNsB,EAAM,mCAENC,EAAWC,IAAAA,OAAa,CAC5BC,QAAS,iCAGEC,EAAY,mCAAG,sGACHH,EAASI,IAAT,sCAA4CL,IADzC,uBAClB7B,EADkB,EAClBA,KADkB,kBAGnBA,EAAKmC,SAHc,2CAAH,qDAMZpC,EAAe,mCAAG,WAAM2B,GAAN,yFACNI,EAASI,IAAT,iBAAuBR,EAAvB,oBAAqCG,IAD/B,uBACrB7B,EADqB,EACrBA,KADqB,kBAGtBA,GAHsB,2CAAH,sDAMfoC,EAAkB,mCAAG,WAAMC,GAAN,yFACTP,EAASI,IAAT,gCAAsCL,GAAO,CAClES,OAAQ,CAAED,MAAAA,KAFoB,uBACxBrC,EADwB,EACxBA,KADwB,kBAKzBA,EAAKmC,SALoB,2CAAH,sDAQlBI,EAAe,mCAAG,WAAMb,GAAN,yFACNI,EAASI,IAAT,iBAAuBR,EAAvB,4BAA6CG,IADvC,uBACrB7B,EADqB,EACrBA,KADqB,kBAGtBA,EAAKwC,MAHiB,2CAAH,sDAMfC,EAAkB,mCAAG,WAAMf,GAAN,yFACTI,EAASI,IAAT,iBAAuBR,EAAvB,4BAA6CG,IADpC,uBACxB7B,EADwB,EACxBA,KADwB,kBAGzBA,EAAKmC,SAHoB,2CAAH,sDAM/BM,EAAmBC,UAAU,CAC3BhB,GAAIiB,IAAAA,KAAAA","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card\":\"MovieDetails_card__pqAte\",\"links\":\"MovieDetails_links__EzCWB\",\"mainTitle\":\"MovieDetails_mainTitle__nLeSq\",\"title\":\"MovieDetails_title__cUGs9\",\"link\":\"MovieDetails_link__U+v+7\",\"go\":\"MovieDetails_go__DObhe\"};","// import PropTypes from 'prop-types';\n\nimport s from './MovieDetails.module.css';\nimport { useState, useEffect, Suspense } from 'react';\nimport { useParams, Link, Outlet } from 'react-router-dom';\nimport { getMovieByIdReq } from 'services/api';\nimport { routes } from 'routes';\nimport { Loader } from 'components/Loader';\nimport { FaArrowLeft } from 'react-icons/fa';\n\nimport { useLocation } from 'react-router-dom';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // console.log(movie);\n  const location = useLocation();\n  // console.log('location', location);\n\n  // console.log('useParams', useParams());\n  const { movieId } = useParams();\n  // console.log('movieId', movieId);\n\n  useEffect(() => {\n    const getMovieById = async () => {\n      setIsLoading(true);\n\n      try {\n        const data = await getMovieByIdReq(movieId);\n        setMovie(data);\n      } catch (error) {\n        setError({ error });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMovieById();\n  }, [movieId]);\n\n  const { title, poster_path, vote_average, overview, release_date, genres } =\n    movie;\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader />\n      ) : error ? (\n        <>\n          <p>Something went wrong. try again</p>\n          <Link to={routes.home} className={s.go}>\n            <span style={{ color: '#000' }}>Go to homepage</span>\n          </Link>\n        </>\n      ) : (\n        <div className={s.card}>\n          <Link to={location?.state?.from ?? routes.home} className={s.go}>\n            <FaArrowLeft />\n            Go back\n          </Link>\n          <img\n            src={`https://image.tmdb.org/t/p/w300/${poster_path}`}\n            width=\"300\"\n            alt={title}\n          />\n          <h3 className={s.mainTitle}>{title}</h3>\n          <b>{release_date?.slice(0, 4)}</b>\n          <p>User score: {Math.round(vote_average) * 10}%</p>\n          <p>\n            {genres?.map(item => (\n              <span key={item.id}>{item.name?.toLowerCase()} </span>\n            ))}\n          </p>\n          <p className={s.text}>{overview}</p>\n          <div className={s.links}>\n            <Link\n              to={routes.cast}\n              state={{ from: location.state?.from }}\n              className={s.link}\n            >\n              <span className={s.title}>Cast</span>\n            </Link>\n            <Link\n              to={routes.reviews}\n              state={{ from: location.state?.from }}\n              className={s.link}\n            >\n              <span className={s.title}>Reviews</span>\n            </Link>\n          </div>\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nimport PropTypes from 'prop-types'\n\nconst key = 'c4360f2fc66490777a6befee451fce21';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getMoviesReq = async () => {\n  const { data } = await instance.get(`/trending/movie/day?api_key=${key}`);\n  // console.log('data', data);\n  return data.results;\n};\n\nexport const getMovieByIdReq = async id => {\n  const { data } = await instance.get(`/movie/${id}?api_key=${key}`);\n  // console.log('data mivie by id', data);\n  return data;\n};\n\nexport const getMoviesSearchReq = async query => {\n  const { data } = await instance.get(`/search/movie?api_key=${key}`, {\n    params: { query },\n  });\n  // console.log('data', data);\n  return data.results;\n};\n\nexport const getMovieCastReq = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits?api_key=${key}`);\n  // console.log('data', data);\n  return data.cast;\n};\n\nexport const getMovieReviewsReq = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews?api_key=${key}`);\n  // console.log('data', data);\n  return data.results;\n};\n\ngetMovieReviewsReq.propTypes={\n  id: PropTypes.func.isRequired\n}\n"],"names":["useState","movie","setMovie","isLoading","setIsLoading","error","setError","location","useLocation","movieId","useParams","useEffect","getMovieById","getMovieByIdReq","data","title","poster_path","vote_average","overview","release_date","genres","Loader","to","routes","className","s","style","color","state","from","src","width","alt","slice","Math","round","map","item","name","toLowerCase","id","Suspense","fallback","key","instance","axios","baseURL","getMoviesReq","get","results","getMoviesSearchReq","query","params","getMovieCastReq","cast","getMovieReviewsReq","propTypes","PropTypes"],"sourceRoot":""}