{"version":3,"file":"static/js/506.bb03800c.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card\":\"MovieDetails_card__pqAte\",\"links\":\"MovieDetails_links__EzCWB\",\"mainTitle\":\"MovieDetails_mainTitle__nLeSq\",\"title\":\"MovieDetails_title__cUGs9\",\"link\":\"MovieDetails_link__U+v+7\",\"go\":\"MovieDetails_go__DObhe\"};","// import PropTypes from 'prop-types';\n\nimport s from './MovieDetails.module.css';\nimport { useState, useEffect, Suspense } from 'react';\nimport { useParams, Link, Outlet } from 'react-router-dom';\nimport { getMovieByIdReq } from 'services/api';\nimport { routes } from 'routes';\nimport { Loader } from 'components/Loader';\nimport { FaArrowLeft } from 'react-icons/fa';\n\nimport { useLocation } from 'react-router-dom';\nimport { useLang } from 'hooks/useInterface';\nimport local from 'local.json';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { language, lang } = useLang();\n\n  // console.log(movie);\n  const location = useLocation();\n  // console.log('location', location);\n\n  // console.log('useParams', useParams());\n  const { movieId } = useParams();\n  // console.log('movieId', movieId);\n\n  useEffect(() => {\n    const getMovieById = async () => {\n      setIsLoading(true);\n\n      try {\n        const data = await getMovieByIdReq(movieId, language);\n        setMovie(data);\n      } catch (error) {\n        setError({ error });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMovieById();\n  }, [movieId, language]);\n\n  const { title, poster_path, vote_average, overview, release_date, genres } =\n    movie;\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader />\n      ) : error ? (\n        <>\n          <p>Something went wrong. try again</p>\n          <Link to={routes.home} className={s.go}>\n            <span style={{ color: '#000' }}>Go to homepage</span>\n          </Link>\n        </>\n      ) : (\n        <div className={s.card}>\n          <Link to={location?.state?.from ?? routes.home} className={s.go}>\n            <FaArrowLeft />\n            {local.back[lang]}\n          </Link>\n          <img\n            src={`https://image.tmdb.org/t/p/w300/${poster_path}`}\n            width=\"300\"\n            alt={title}\n          />\n          <h3 className={s.mainTitle}>{title}</h3>\n          <b>{release_date?.slice(0, 4)}</b>\n          <p>\n            {local.score[lang]}: {Math.round(vote_average) * 10}%\n          </p>\n          <p>\n            {genres?.map(item => (\n              <span key={item.id}>{item.name?.toLowerCase()} </span>\n            ))}\n          </p>\n          <p className={s.text}>{overview}</p>\n          <div className={s.links}>\n            <Link\n              to={routes.cast}\n              state={{ from: location.state?.from }}\n              className={s.link}\n            >\n              <span className={s.title}>{local.cast[lang]}</span>\n            </Link>\n            <Link\n              to={routes.reviews}\n              state={{ from: location.state?.from }}\n              className={s.link}\n            >\n              <span className={s.title}>{local.reviews[lang]}</span>\n            </Link>\n          </div>\n          <Suspense fallback={<Loader />}>\n            <Outlet />\n          </Suspense>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst key = 'c4360f2fc66490777a6befee451fce21';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  // params: {\n  //   language: 'uk',\n  // },\n});\n\nexport const getMoviesReq = async language => {\n  const { data } = await instance.get(`/trending/movie/day?api_key=${key}`, {\n    params: {\n      language,\n    },\n  });\n  // console.log('data', data);\n  return data.results;\n};\n\nexport const getMovieByIdReq = async (id, language) => {\n  const { data } = await instance.get(`/movie/${id}?api_key=${key}`, {\n    params: {\n      language,\n    },\n  });\n  // console.log('data mivie by id', data);\n  return data;\n};\n\nexport const getMoviesSearchReq = async (query, language) => {\n  const { data } = await instance.get(`/search/movie?api_key=${key}`, {\n    params: { query, language },\n  });\n  // console.log('data', data);\n  return data.results;\n};\n\nexport const getMovieCastReq = async (id, language) => {\n  const { data } = await instance.get(`/movie/${id}/credits?api_key=${key}`, {\n    params: {\n      language,\n    },\n  });\n  // console.log('data', data);\n  return data.cast;\n};\n\nexport const getMovieReviewsReq = async (id, language) => {\n  const { data } = await instance.get(`/movie/${id}/reviews?api_key=${key}`, {\n    params: { language },\n  });\n  // console.log('data', data);\n  return data.results;\n};\n\ngetMovieReviewsReq.propTypes = {\n  id: PropTypes.func.isRequired,\n};\n"],"names":["useState","movie","setMovie","isLoading","setIsLoading","error","setError","useLang","language","lang","location","useLocation","movieId","useParams","useEffect","getMovieById","getMovieByIdReq","data","title","poster_path","vote_average","overview","release_date","genres","Loader","to","routes","className","s","style","color","state","from","local","src","width","alt","slice","Math","round","map","item","name","toLowerCase","id","Suspense","fallback","key","instance","axios","baseURL","getMoviesReq","get","params","results","getMoviesSearchReq","query","getMovieCastReq","cast","getMovieReviewsReq","propTypes","PropTypes"],"sourceRoot":""}